# -----------------------------
# Docker Compose
# -----------------------------
COMPOSE_PROJECT_NAME=code-compass

# -----------------------------
# Qdrant (infra local)
# -----------------------------
QDRANT_IMAGE=qdrant/qdrant:latest
QDRANT_HTTP_PORT=6333
QDRANT_GRPC_PORT=6334
QDRANT_STORAGE_PATH=../.qdrant_storage
QDRANT_URL=http://localhost:6333
QDRANT_COLLECTION=code_chunks
QDRANT_DISTANCE=Cosine

# -----------------------------
# Indexer (apps/indexer)
# -----------------------------
INDEXER_DIR=apps/indexer
INDEXER_PYTHON=python3
INDEXER_RUN_MODULE=code_compass.index
INDEXER_DOCKER_PROFILE=indexer
INDEXER_DOCKER_IMAGE=python:3.11-slim
QDRANT_URL_DOCKER=http://qdrant:6333
REPO_ROOT_DOCKER=/workspace

# -----------------------------
# Ingestão / chunking
# -----------------------------
REPO_ROOT=/abs/path/para/repositorio
REPO_ALLOWLIST=src,packages,apps,docs
REPO_BLOCKLIST=node_modules,dist,build,.next,.git,coverage
CHUNK_MAX_TOKENS=800
CHUNK_OVERLAP_TOKENS=120

# -----------------------------
# Embeddings
# -----------------------------
EMBEDDINGS_PROVIDER=openai
EMBEDDINGS_MODEL=text-embedding-3-large
OPENAI_API_KEY=YOUR_KEY

# -----------------------------
# MCP server (apps/mcp-server)
# -----------------------------
MCP_SERVER_NAME=code-compass
MCP_SERVER_PORT=3333

# -----------------------------
# Segurança / governança
# -----------------------------
READ_ONLY=true
AUDIT_LOG_ENABLED=true
PATH_TRAVERSAL_GUARD=true
